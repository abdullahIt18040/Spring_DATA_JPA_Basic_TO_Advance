## Spring Boot-ржП Exception Handling 
```

рзз. ржПржХрзНрж╕рж╕рзЗржкрж╢ржи ржШржЯрж▓рзЗ (An exception is the main force controller)
ржХрзЛржирзЛ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗ рж░рж┐ржХрзБрзЯрзЗрж╕рзНржЯ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж╛рж░ рж╕ржорзЯ ржпржжрж┐ ржХрзЛржирзЛ ржПржХрзНрж╕рж╕рзЗржкрж╢ржи (Exception) ржШржЯрзЗ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж╛ Spring Framework ржжрзНржмрж╛рж░рж╛ ржХрзНржпрж╛ржЪ ржХрж░рж╛ рж╣рзЯред

рзи. ржПржХржЗ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗ @ExceptionHandler ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рж╛
ржкрзНрж░ржержорзЗ Spring ржЪрзЗржХ ржХрж░рзЗ ржпрзЗ ржПржХржЗ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ ржХрзЛржирзЛ ржорзЗржержб @ExceptionHandler ржЕрзНржпрж╛ржирзЛржЯрзЗрж╢ржи ржжрж┐рзЯрзЗ ржбрж┐ржлрж╛ржЗржи ржХрж░рж╛ ржЖржЫрзЗ ржХрж┐ржирж╛ ржпрж╛ ржР ржПржХрзНрж╕рж╕рзЗржкрж╢ржиржЯрж┐ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

тЬЕ рж╣рзНржпрж╛ржБ ржерж╛ржХрж▓рзЗ тЖТ ржР ржорзЗржержб ржПржХрзНрж╕рж╕рзЗржкрж╢ржиржЯрж┐ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░ржмрзЗ ржПржмржВ ржХрзНрж▓рж╛рзЯрзЗржирзНржЯржХрзЗ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржарж╛ржмрзЗред

тЭМ ржирж╛ ржерж╛ржХрж▓рзЗ тЖТ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржпрж╛ржмрзЗред

рзй. @ControllerAdvice ржХрзНрж▓рж╛рж╕рзЗ @ExceptionHandler ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рж╛
ржпржжрж┐ ржПржХржЗ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗ @ExceptionHandler ржирж╛ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ Spring ржжрзЗржЦржмрзЗ @ControllerAdvice ржЕрзНржпрж╛ржирзЛржЯрзЗрж╢ржи ржжрзЗржУрзЯрж╛ ржХрзЛржирзЛ ржХрзНрж▓рж╛рж╕рзЗ ржР ржПржХрзНрж╕рж╕рзЗржкрж╢ржирзЗрж░ ржЬржирзНржп рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржЖржЫрзЗ ржХрж┐ржирж╛ред @ControllerAdvice ржЧрзНрж▓рзЛржмрж╛рж▓ ржПржХрзНрж╕рж╕рзЗржкрж╢ржи рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ ржХрж░рзЗред

тЬЕ рж╣рзНржпрж╛ржБ ржерж╛ржХрж▓рзЗ тЖТ ржР @ControllerAdvice-ржПрж░ ржорзЗржержб ржПржХрзНрж╕рж╕рзЗржкрж╢ржи рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░ржмрзЗред

тЭМ ржирж╛ ржерж╛ржХрж▓рзЗ тЖТ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржпрж╛ржмрзЗред

рзк. ржПржХрзНрж╕рж╕рзЗржкрж╢ржирзЗ @ResponseStatus ржЕрзНржпрж╛ржирзЛржЯрзЗрж╢ржи ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рж╛
ржпржжрж┐ ржЙржкрж░рзЗрж░ ржХрзЛржирзЛржЯрж╛ржЗ ржирж╛ ржерж╛ржХрзЗ, Spring ржЪрзЗржХ ржХрж░ржмрзЗ ржПржХрзНрж╕рж╕рзЗржкрж╢ржи ржХрзНрж▓рж╛рж╕рзЗрж░ ржЙржкрж░рзЗ @ResponseStatus ржЕрзНржпрж╛ржирзЛржЯрзЗрж╢ржи ржжрзЗржУрзЯрж╛ ржЖржЫрзЗ ржХрж┐ржирж╛ред

тЬЕ рж╣рзНржпрж╛ржБ ржерж╛ржХрж▓рзЗ тЖТ Spring-ржПрж░ ResponseStatusExceptionResolver ржХрзНрж▓рж╛рж╕ ржПржЯрж┐ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░ржмрзЗ ржПржмржВ HTTP рж╕рзНржЯрзЗржЯрж╛рж╕ ржХрзЛржб ржУ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржмрзЗред

тЭМ ржирж╛ ржерж╛ржХрж▓рзЗ тЖТ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржпрж╛ржмрзЗред

рзл. Spring-ржПрж░ DefaultHandlerExceptionResolver рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░ржмрзЗ
ржпржжрж┐ @ResponseStatusржУ ржирж╛ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ DefaultHandlerExceptionResolver ржХрзНрж▓рж╛рж╕ржЯрж┐ ржПржХрзНрж╕рж╕рзЗржкрж╢ржиржЯрж┐ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░ржмрзЗред ржПржЯрж┐ Spring-ржПрж░ ржбрж┐ржлрж▓рзНржЯ рж░рзЗржЬрж▓ржнрж╛рж░ ржпрж╛ рж╕рж╛ржзрж╛рж░ржг Spring ржПржХрзНрж╕рж╕рзЗржкрж╢ржиржЧрзБрж▓рзЛржХрзЗ HTTP рж░рзЗрж╕ржкржирзНрж╕рзЗ ржорзНржпрж╛ржк ржХрж░рзЗред

рзм. ржХрзНрж▓рж╛рзЯрзЗржирзНржЯржХрзЗ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржарж╛ржирзЛ
рж╕ржмрж╢рзЗрж╖рзЗ ржЙржкржпрзБржХрзНржд HTTP рж░рзЗрж╕ржкржирзНрж╕ (рж╕рзНржЯрзЗржЯрж╛рж╕ ржХрзЛржб, ржорзЗрж╕рзЗржЬ ржЗрждрзНржпрж╛ржжрж┐) ржХрзНрж▓рж╛рзЯрзЗржирзНржЯрзЗрж░ ржХрж╛ржЫрзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рж╛ рж╣рзЯред

рж╕ржВржХрзНрж╖рзЗржкрзЗ:
ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗрж░ ржирж┐ржЬрзЗрж░ @ExceptionHandler тЖТ ржерж╛ржХрзЗ рж╕рзЗржЦрж╛ржирзЗржЗ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ рж╣ржмрзЗред

ржирж╛ ржерж╛ржХрж▓рзЗ @ControllerAdvice тЖТ ржЧрзНрж▓рзЛржмрж╛рж▓ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВред

ржирж╛ ржерж╛ржХрж▓рзЗ @ResponseStatus тЖТ HTTP рж╕рзНржЯрзЗржЯрж╛рж╕ ржорзНржпрж╛ржкрж┐ржВред

рж╢рзЗрж╖ ржЙржкрж╛рзЯ DefaultHandlerExceptionResolver тЖТ Spring-ржПрж░ ржбрж┐ржлрж▓рзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВред
```
## @ControllerAdvice ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐?
```

@ControllerAdvice ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐? (ржмрж╛ржВрж▓рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛ + ржЙржжрж╛рж╣рж░ржг)

Spring Boot ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ @ControllerAdvice ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ ржорзВрж▓ржд

ЁЯСЙ Global Exception Handling
ЁЯСЙ Common logic (рж╕ржм Controller-ржПрж░ ржЬржирзНржп ржПржХ ржЬрж╛рзЯржЧрж╛рзЯ рж▓рзЗржЦрж╛)
ржХрж░рж╛рж░ ржЬржирзНржпред

рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ ржмрж▓рж▓рзЗ тАФ
ЁЯФ╣ ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ Controller-ржП ржПржХржЗ error handling ржХрзЛржб ржирж╛ рж▓рж┐ржЦрзЗ
ЁЯФ╣ ржПржХ ржЬрж╛рзЯржЧрж╛ ржерзЗржХрзЗ ржкрзБрж░рзЛ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржХржирзНржЯрзНрж░рзЛрж▓ ржХрж░рж╛рж░ ржЬржирзНржпржЗ @ControllerAdvice ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ред

ЁЯФе рж╕ржорж╕рзНржпрж╛ ржХрзА, ржпржжрж┐ @ControllerAdvice ржирж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐?

ржзрж░рзЛ рждрзЛржорж╛рж░ рзлржЯрж╛ Controller ржЖржЫрзЗ:

UserController
OrderController
PaymentController
ProductController
AuthController


ржкрзНрж░рждрж┐ржЯрж╛ Controller-ржП ржпржжрж┐ рждрзБржорж┐ рж▓рж┐ржЦрзЛ:

try {
   // logic
} catch (Exception e) {
   return "error";
}


ЁЯСЙ ржХрзЛржб рж╣ржмрзЗ:

ржмрж╛рж░ржмрж╛рж░ рж▓рзЗржЦрж╛ (duplicate)

Maintain ржХрж░рж╛ ржХржарж┐ржи

Professional ржирж╛

тЬЕ рж╕ржорж╛ржзрж╛ржи: @ControllerAdvice

@ControllerAdvice ржкрзБрж░рзЛ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ рж╕ржм Controller-ржПрж░ ржЬржирзНржп common handler рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

ЁЯза @ControllerAdvice ржХрзА ржХрж░рзЗ?
ржХрж╛ржЬ	ржмрзНржпрж╛ржЦрзНржпрж╛
Global Exception Handle	рж╕ржм Controller-ржПрж░ Exception ржПржХ ржЬрж╛рзЯржЧрж╛рзЯ ржзрж░рждрзЗ ржкрж╛рж░рзЗ
Common Model Attribute	рж╕ржм View-рждрзЗ common data ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рзЗ
Cleaner Code	Controller clean ржерж╛ржХрзЗ
ЁЯУМ ржЙржжрж╛рж╣рж░ржг (Simple)
1я╕ПтГг Custom Exception
public class ResourceNotFoundException extends RuntimeException {
    public ResourceNotFoundException(String message) {
        super(message);
    }
}

2я╕ПтГг Controller
@Controller
@RequestMapping("/users")
public class UserController {

    @GetMapping("/{id}")
    public String getUser(@PathVariable int id) {
        if (id == 0) {
            throw new ResourceNotFoundException("User not found");
        }
        return "user";
    }
}


ЁЯСЙ ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ try-catch рж▓рж┐ржЦрж┐ржирж┐ тЭМ

3я╕ПтГг @ControllerAdvice (Global Exception Handler)
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(ResourceNotFoundException.class)
    public String handleNotFound(
            ResourceNotFoundException ex,
            Model model) {

        model.addAttribute("errorMessage", ex.getMessage());
        return "error/404";
    }

    @ExceptionHandler(Exception.class)
    public String handleAllException(Exception ex, Model model) {
        model.addAttribute("errorMessage", "Something went wrong");
        return "error/500";
    }
}

```
